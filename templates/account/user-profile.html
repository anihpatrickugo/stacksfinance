{% extends "account/user-dashboard.html" %}

{% load static %}


{% block tittle %}Profile - {{ request.user.username }} {% endblock %}
  



{% block content %}

<main id="main" class="main">

    <div class="pagetitle">
      <h1>Profile</h1>
    </div><!-- End Page Title -->

    <section class="section profile">
      <div class="row">
        <div class="col-xl-4">

          <div class="card">
            <div class="card-body profile-card pt-4 d-flex flex-column align-items-center">
              {% if request.user.photo %} 
              <img src="{{ request.user.photo.url }}" alt="Profile" class="rounded-circle">
              {% else %}
              <img src="{% static 'core/img/avatar.png' %}" alt="Photo" class="rounded-circle">
              {% endif %}
              <h2>{{ request.user.first_name|capfirst }} {{ request.user.last_name|capfirst }}</h2>
              <h3>{{ request.user.username }}</h3>
    
            </div>
          </div>

        </div>

        <div class="col-xl-8">

          <div class="card">
            <div class="card-body pt-3">
             
              <div class="tab-content pt-2">

                <div class="tab-pane fade show active profile-overview" id="profile-overview">
                  
                  <h5 class="card-title">Profile Details</h5>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label ">Full Name</div>
                    <div class="col-lg-9 col-md-8">{{ request.user.first_name|capfirst }} {{ request.user.last_name|capfirst }}</div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">Username</div>
                    <div class="col-lg-9 col-md-8">{{ request.user.username }}</div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">Account Balance</div>
                    <div class="col-lg-9 col-md-8">${{ request.user.balance }}</div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">Email</div>
                    <div class="col-lg-9 col-md-8">{{ request.user.email }}</div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">Nationality</div>
                    <div class="col-lg-9 col-md-8">{{ request.user.nationality.name }}</div>
                  </div>

                   <div class="row">
                    <div class="col-lg-3 col-md-4 label">Age</div>
                    <div class="col-lg-9 col-md-8">{{ request.user.age }}</div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">Bitcoin Address</div>
                    <div class="col-lg-9 col-md-8">{{ request.user.bitcoin_address }}</div> 
                    
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">Referral Code</div>
                    <div class="col-lg-9 col-md-8">{{ request.user.referral_code }} <span><a onclick="copyText()" id="copy-btn"><i class="bx bxs-copy"></i></a></span> </div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">Date Joined</div>
                    <div class="col-lg-9 col-md-8">{{ request.user.date_joined }}</div>
                  </div>

                  

                </div>

                <div class="text-center">
                  <a class="btn btn-primary" href="{% url 'profile-settings' request.user.pk %}">Edit Profile</a>
                </div>

               
              </div><!-- End Bordered Tabs -->

            </div>
          </div>

        </div>
      </div>
    </section>

    <script>
      function copyText() {
                  /* Copy text into clipboard */
                  navigator.clipboard.writeText("{{ request.user.referral_code }}");

                  document.getElementById("copy-btn").className = "bx";
                }
    </script>

  </main><!-- End #main -->
{% endblock %}

